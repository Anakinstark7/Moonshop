<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopEasy - Votre Boutique en Ligne</title>
    <link rel="icon" type="image/png" href="mlogo.svg">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0px;
        }
        
        /* CORRECTION HERO MOBILE */
        .container .hero {
            margin-left: 0;
            margin-right: 0;
            width: 100%;
            border-radius: 0;
        }
        
        /* Header Styles */
        header {
            background-color: 0000;
            color: white;
            height: 90px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        
        .logo {
            margin-left: 3px;
        }
        
        .logo img {
            height: 80px;
            width: auto;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            margin-right: 10px;
        }
        
        nav ul li {
            margin-left: 30px;
        }
        
        nav ul li a {
            color: #002150;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            transition: color 0.3s;
            padding: 8px 16px;
            border-radius: 4px;
        }
        
        nav ul li a:hover {
            color: #3498db;
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Page Styles */
        .page {
            display: none;
            padding: 0px 0;
            min-height: calc(100vh - 112px);
        }
        
        .page.active {
            display: block;
        }
        
        /* Hero Section - CORRECTION POUR MOBILE */
        .hero {
            position: relative;
            height: 73vh; /* Réduit la hauteur pour mobile */
            background: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0)), 
                        url('hero.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            color: white;
            margin-bottom: 60px; /* Réduit la marge pour mobile */
            border-radius: 0;
            padding: 20px;
        }
        
        .hero-content {
            max-width: 800px;
            padding-left: 42px;
            padding-top: 0; /* Supprimé le padding-top fixe */
        }
        .hero h2{
            font-size: 42px;
            font-family: 'Bogart';
            line-height: 69px;
        }
        .hero p{
            padding-left: 33px;
            padding-bottom: 20px;
            font-size: 18px;
            font-family: 'Dm sans';
        }
        .btn {
            display: inline-block;
            background-color: #478AC9;
            color: white;
            padding: 12px 30px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn:hover {
            background-color: #c0392b;
        }
        
        /* Section Titles */
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            font-size: 2rem;
            color: #2c3e50;
        }
        
        /* Products Section */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .product-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        .product-image-container {
            position: relative;
            height: 270px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .product-image-slider {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .product-slider-nav {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 5px;
        }
        
        .product-slider-dot {
            width: 8px;
            height: 8px;
            background-color: rgba(255,255,255,0.5);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .product-slider-dot.active {
            background-color: white;
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .product-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 15px;
        }
        
        .product-description {
            color: #7f8c8d;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        /* Lightbox Modal Styles */
        .lightbox-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .lightbox-content {
            position: relative;
            margin: auto;
            padding: 20px;
            width: 90%;
            max-width: 800px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .lightbox-slider {
            display: flex;
            transition: transform 0.5s ease;
        }
        
        .lightbox-image {
            width: 100%;
            max-height: 70vh;
            object-fit: contain;
            flex-shrink: 0;
        }
        
        .lightbox-close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        
        .lightbox-close:hover {
            color: #bbb;
        }
        
        .lightbox-prev, .lightbox-next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px;
            margin-top: -50px;
            color: white;
            font-weight: bold;
            font-size: 20px;
            transition: 0.3s;
            border-radius: 0 3px 3px 0;
            user-select: none;
            -webkit-user-select: none;
            background-color: rgba(0,0,0,0.5);
        }
        
        .lightbox-next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }
        
        .lightbox-prev:hover, .lightbox-next:hover {
            background-color: rgba(0,0,0,0.8);
        }
        
        .lightbox-nav {
            text-align: center;
            margin-top: 10px;
        }
        
        .lightbox-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            background-color: rgba(255,255,255,0.5);
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .lightbox-dot.active {
            background-color: white;
        }
        
        /* Featured Products */
        .featured-products {
            margin-bottom: 60px;
        }
        
        .featured-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }
        
        /* Order Form Styles */
        .order-form {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        textarea {
            height: 100px;
            resize: vertical;
        }
        
        /* Product Slider - CORRECTION POUR MOBILE (1 produit par slide) */
        .product-slider {
            position: relative;
            margin: 30px 0;
            overflow: hidden;
            touch-action: pan-y;
        }
        
        .slider-container {
            display: flex;
            transition: transform 0.5s ease;
        }
        
        .slide {
            min-width: 100%; /* Chaque slide prend 100% de largeur */
            display: flex;
            justify-content: center; /* Centre le produit */
            flex-wrap: wrap;
            gap: 20px;
            padding: 0 10px;
        }
        
        .slider-product {
            flex: 0 0 100%; /* Chaque produit prend 100% de la slide */
            max-width: 400px; /* Largeur maximale pour garder une bonne proportion */
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin: 0 auto; /* Centre le produit */
        }
        
        .slider-product:hover {
            border-color: #3498db;
        }
        
        .slider-product.selected {
            border-color: #3498db;
            background-color: #f0f8ff;
        }
        
        .slider-product img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 10px;
            cursor: pointer;
        }
        
        .slider-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            position: relative;
        }
        
        .slider-dot {
            width: 12px;
            height: 12px;
            background-color: #ddd;
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .slider-dot.active {
            background-color: #3498db;
        }
        
        .slider-arrow {
            background: none;
            border: none;
            font-size: 36px;
            color: #3498db;
            cursor: pointer;
            padding: 0 15px;
            transition: color 0.3s;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }
        
        .slider-arrow:hover {
            color: #2980b9;
        }
        
        .slider-arrow.prev {
            left: 0;
        }
        
        .slider-arrow.next {
            right: 0;
        }
        
        /* Quantity Selector Styles */
        .quantity-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .quantity-btn:hover {
            background-color: #2980b9;
        }
        
        .quantity-display {
            margin: 0 15px;
            font-size: 1.1rem;
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }
        
        /* Size Selector Styles - TOUJOURS VISIBLE MAINTENANT */
        .size-selector {
            margin-top: 10px;
            display: block; /* Changé de 'none' à 'block' */
        }
        
        .size-selector select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        /* Order Summary Styles */
        .order-summary {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        .summary-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px dashed #ddd;
        }
        
        .summary-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            font-size: 1.2rem;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 2px solid #3498db;
            color: #2c3e50;
        }
        
        .delivery-price {
            color: #e74c3c;
        }
        
        /* Footer Styles */
        footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
        }
        
        /* Success Message */
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
        }
        
        /* Responsive Design - AMÉLIORATIONS MOBILE */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                height: auto;
                padding: 10px 0;
            }
            
            .logo {
                margin: 10px 0;
            }
            
            nav ul {
                margin: 10px 0;
                justify-content: center;
            }
            
            nav ul li {
                margin: 0 10px;
            }
            
            /* CORRECTION HERO POUR MOBILE */
            .hero {
                height: 50vh; /* Encore plus réduit sur mobile */
                margin-bottom: 40px;
                padding: 15px;
            }
            
            .hero-content {
                padding-top: 0;
                padding-left: 0;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .products-grid, .featured-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            /* CORRECTION SLIDER POUR MOBILE */
            .slide {
                flex-direction: column;
            }
            
            .slider-product {
                flex: 0 0 100%;
                max-width: 100%;
            }
            
            header {
                height: auto;
                min-height: 112px;
            }
            
            .slider-arrow {
                font-size: 28px;
                padding: 0 10px;
            }
            
            .lightbox-content {
                width: 95%;
                padding: 10px;
            }
            
            .lightbox-close {
                top: 10px;
                right: 25px;
                font-size: 35px;
            }
            
            .order-form {
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .slider-arrow {
                font-size: 24px;
                padding: 0 5px;
            }
            
            .lightbox-close {
                top: 5px;
                right: 15px;
                font-size: 30px;
            }
            
            .hero {
                height: 40vh; /* Très réduit sur très petits écrans */
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        /* Media Query pour desktop - On garde 3 produits par slide sur grand écran */
        @media (min-width: 1024px) {
            .slide {
                min-width: 100%;
                display: flex;
                justify-content: space-around;
                flex-wrap: wrap;
                gap: 20px;
            }
            
            .slider-product {
                flex: 0 0 calc(33.333% - 20px); /* 3 produits par slide sur desktop */
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <!-- Lightbox Modal -->
    <div id="lightboxModal" class="lightbox-modal">
        <span class="lightbox-close">&times;</span>
        <div class="lightbox-content">
            <div class="lightbox-slider" id="lightboxSlider">
                <!-- Images will be added dynamically -->
            </div>
            <a class="lightbox-prev">&#10094;</a>
            <a class="lightbox-next">&#10095;</a>
            <div class="lightbox-nav" id="lightboxNav">
                <!-- Dots will be added dynamically -->
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <a href="#home"><img src="images/mlogo.svg" width="9%" class="logo" ></a>
            </div>
            <nav>
                <ul>
                    <li><a href="#home" class="nav-link">Accueil</a></li>
                    <li><a href="#order" class="nav-link">Commandez</a></li>
                    <li><a href="contact.html" class="nav-link">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Home Page -->
    <section id="home" class="page active">
        <div class="container">
            <!-- Hero Section -->
            <div class="hero">
                <div class="hero-content">
                    <h2>welcome to <br> MOON STORE</h2>
                    <p>Découvrez des produits incroyables à <br>des prix imbattables. Qualité et<br> satisfaction garanties..</p>
                    <a href="#order" class="btn nav-link">commandez MAINTENANT</a>
                </div>
            </div>
            
            <!-- Featured Products -->
            <div class="featured-products">
                <h2 class="section-title">Produits en Vedette</h2>
                <div class="featured-grid">
                    <!-- Featured Product 1 -->
                    <div class="product-card">
                        <div class="product-image-container" data-product="1">
                            <div class="product-image-slider">
                                <img src="images/prod8.png" alt="JJIEDDIE JEAN 1" class="product-image">
                                <img src="images/prod8.png" alt="JJIEDDIE JEAN 2" class="product-image">
                                <img src="images/prod8.png" alt="JJIEDDIE JEAN 3" class="product-image">
                            </div>
                            <div class="product-slider-nav">
                                <div class="product-slider-dot active" data-index="0"></div>
                                <div class="product-slider-dot" data-index="1"></div>
                                <div class="product-slider-dot" data-index="2"></div>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">titre de ton produit 1</h3>
                            <div class="product-price">1 500 DA</div>
                            <p class="product-description">votre description de produit 1.</p>
                            <a href="#order" class="btn nav-link">Commander</a>
                        </div>
                    </div>
                    
                    <!-- Featured Product 2 -->
                    <div class="product-card">
                        <div class="product-image-container" data-product="2">
                            <div class="product-image-slider">
                                <img src="images/prod2.png" alt="Montre Connectée 1" class="product-image">
                                <img src="images/prod2.png" alt="Montre Connectée 2" class="product-image">
                                <img src="images/prod2.png" alt="Montre Connectée 3" class="product-image">
                            </div>
                            <div class="product-slider-nav">
                                <div class="product-slider-dot active" data-index="0"></div>
                                <div class="product-slider-dot" data-index="1"></div>
                                <div class="product-slider-dot" data-index="2"></div>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">titre de ton produit 2</h3>
                            <div class="product-price">12 000 DA</div>
                            <p class="product-description">votre description de produit 2.</p>
                            <a href="#order" class="btn nav-link">Commander</a>
                        </div>
                    </div>
                    
                    <!-- Featured Product 3 -->
                    <div class="product-card">
                        <div class="product-image-container" data-product="3">
                            <div class="product-image-slider">
                                <img src="images/prod3.png" alt="Enceinte Bluetooth 1" class="product-image">
                                <img src="images/prod3.png" alt="Enceinte Bluetooth 2" class="product-image">
                                <img src="images/prod3.png" alt="Enceinte Bluetooth 3" class="product-image">
                            </div>
                            <div class="product-slider-nav">
                                <div class="product-slider-dot active" data-index="0"></div>
                                <div class="product-slider-dot" data-index="1"></div>
                                <div class="product-slider-dot" data-index="2"></div>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">titre de ton produit 3</h3>
                            <div class="product-price">2 000 DA</div>
                            <p class="product-description">votre description de produit 3.</p>
                            <a href="#order" class="btn nav-link">Commander</a>
                        </div>
                    </div>
                    
                    <!-- Featured Product 4 -->
                    <div class="product-card">
                        <div class="product-image-container" data-product="4">
                            <div class="product-image-slider">
                                <img src="images/prod9.png" alt="Écouteurs Sans Fil 1" class="product-image">
                                <img src="images/prod9.png" alt="Écouteurs Sans Fil 2" class="product-image">
                                <img src="images/prod9.png" alt="Écouteurs Sans Fil 3" class="product-image">
                            </div>
                            <div class="product-slider-nav">
                                <div class="product-slider-dot active" data-index="0"></div>
                                <div class="product-slider-dot" data-index="1"></div>
                                <div class="product-slider-dot" data-index="2"></div>
                            </div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">titre de ton produit 4</h3>
                            <div class="product-price">4 000 DA</div>
                            <p class="product-description">votre description de produit 4.</p>
                            <a href="#order" class="btn nav-link">Commander</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- All Products -->
            <h2 class="section-title">Tous les Produits</h2>
            <div class="products-grid">
                <!-- Product 1 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="1">
                        <div class="product-image-slider">
                            <img src="images/prod1.png" alt="JJIEDDIE JEAN 1" class="product-image">
                            <img src="images/prod1.png" alt="JJIEDDIE JEAN 2" class="product-image">
                            <img src="images/prod1.png" alt="JJIEDDIE JEAN 3" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                            <div class="product-slider-dot" data-index="2"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 1</h3>
                        <div class="product-price">3 500 DA</div>
                        <p class="product-description">description du produit 1</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                
                <!-- Product 2 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="2">
                        <div class="product-image-slider">
                            <img src="images/prod2.png" alt="Montre Connectée 1" class="product-image">
                            <img src="images/prod2.png" alt="Montre Connectée 2" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 2</h3>
                        <div class="product-price">12 000 DA</div>
                        <p class="product-description">description du produit 2</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                
                <!-- Product 3 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="3">
                        <div class="product-image-slider">
                            <img src="images/prod3.png" alt="Enceinte Bluetooth 1" class="product-image">
                            <img src="images/prod3.png" alt="Enceinte Bluetooth 2" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 3</h3>
                        <div class="product-price">2 000 DA</div>
                        <p class="product-description">description du produit 3.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                
                <!-- Product 4 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="4">
                        <div class="product-image-slider">
                            <img src="images/prod4.png" alt="Écouteurs Sans Fil 1" class="product-image">
                            <img src="images/prod4.png" alt="Écouteurs Sans Fil 2" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 4</h3>
                        <div class="product-price">9 500 DA</div>
                        <p class="product-description">description du produit 4.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                
                <!-- Product 5 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="5">
                        <div class="product-image-slider">
                            <img src="images/prod5.png" alt="Sac à Dos 1" class="product-image">
                            <img src="images/prod5.png" alt="Sac à Dos 2" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 5</h3>
                        <div class="product-price">1 500 DA</div>
                        <p class="product-description">description du produit 5.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                
                <!-- Product 6 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="6">
                        <div class="product-image-slider">
                            <img src="images/prod6.png" alt="Chaussures 1" class="product-image">
                            <img src="images/prod6.png" alt="Chaussures 2" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 6</h3>
                        <div class="product-price">8 000 DA</div>
                        <p class="product-description">description du produit 6.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                
                <!-- Product 7 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="7">
                        <div class="product-image-slider">
                            <img src="images/prod9.png" alt="Smartphone 1" class="product-image">
                            <img src="images/prod9.png" alt="Smartphone 2" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 7</h3>
                        <div class="product-price">4 000 DA</div>
                        <p class="product-description">description du produit 7.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                
                <!-- Product 8 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="8">
                        <div class="product-image-slider">
                            <img src="images/prod8.png" alt="Machine à Café 1" class="product-image">
                            <img src="images/prod8.png" alt="Machine à Café 2" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 8</h3>
                        <div class="product-price">1 500 DA</div>
                        <p class="product-description">description du produit 8.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                <!-- Product 9 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="9">
                        <div class="product-image-slider">
                            <img src="images/prod7.png" alt="JJIEDDIE JEAN 1" class="product-image">
                            <img src="images/prod7.png" alt="JJIEDDIE JEAN 2" class="product-image">
                            <img src="images/prod7.png" alt="JJIEDDIE JEAN 3" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                            <div class="product-slider-dot" data-index="2"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 9</h3>
                        <div class="product-price"> 600 DA</div>
                        <p class="product-description">description du produit  9.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                <!-- Product 10 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="10">
                        <div class="product-image-slider">
                            <img src="images/prod10.png" alt="JJIEDDIE JEAN 1" class="product-image">
                            <img src="images/prod10.png" alt="JJIEDDIE JEAN 2" class="product-image">
                            <img src="images/prod10.png" alt="JJIEDDIE JEAN 3" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                            <div class="product-slider-dot" data-index="2"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 10</h3>
                        <div class="product-price">2 500 DA</div>
                        <p class="product-description">description du produit 10.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                <!-- Product 11 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="11">
                        <div class="product-image-slider">
                            <img src="images/prod11.png" alt="JJIEDDIE JEAN 1" class="product-image">
                            <img src="images/prod11.png" alt="JJIEDDIE JEAN 2" class="product-image">
                            <img src="images/prod11.png" alt="JJIEDDIE JEAN 3" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                            <div class="product-slider-dot" data-index="2"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 11</h3>
                        <div class="product-price">1 500 DA</div>
                        <p class="product-description">description du produit 11.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
                <!-- Product 12 -->
                <div class="product-card">
                    <div class="product-image-container" data-product="12">
                        <div class="product-image-slider">
                            <img src="images/prod12.png" alt="JJIEDDIE JEAN 1" class="product-image">
                            <img src="images/prod12.png" alt="JJIEDDIE JEAN 2" class="product-image">
                            <img src="images/prod12.png" alt="JJIEDDIE JEAN 3" class="product-image">
                        </div>
                        <div class="product-slider-nav">
                            <div class="product-slider-dot active" data-index="0"></div>
                            <div class="product-slider-dot" data-index="1"></div>
                            <div class="product-slider-dot" data-index="2"></div>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">titre de produit 12</h3>
                        <div class="product-price">2 500 DA</div>
                        <p class="product-description">description du produit 12.</p>
                        <a href="#order" class="btn nav-link">Commander</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Order Page -->
    <section id="order" class="page">
        <div class="container">
            <h2 class="section-title">Passer Votre Commande</h2>
            
            <div class="success-message" id="successMessage">
                Merci pour votre commande ! Nous avons reçu vos informations et vous contacterons sous peu.
            </div>
            
            <form id="orderForm" class="order-form">
                <input type="hidden" name="_subject" value="Nouvelle Commande de ShopEasy">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="total" id="formTotal" value="0">
                <!-- CHAMP POUR LE RÉCAPITULATIF COMPLET -->
                <input type="hidden" name="order_summary" id="formOrderSummary" value="">
                
                <div class="form-group">
                    <label for="customerName">Nom Complet *</label>
                    <input type="text" id="customerName" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="customerEmail">Adresse Email *</label>
                    <input type="email" id="customerEmail" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="customerPhone">Numéro de Téléphone *</label>
                    <input type="tel" id="customerPhone" name="phone" required>
                </div>
                
                <div class="form-group">
                    <label for="customerCity">Livraison à *</label>
                    <select id="customerCity" name="city" required>
                        <option value="">-- Choisissez votre ville et type de livraison --</option>
                        <!-- Les options seront générées dynamiquement par JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Sélectionnez les Produits *</label>
                    <div class="product-slider" id="productSlider">
                        <button type="button" class="slider-arrow prev">&#10094;</button>
                        <div class="slider-container" id="sliderContainer">
                            <!-- CORRECTION : Maintenant chaque produit a sa propre slide -->
                            <!-- Product 1 -->
                            <div class="slide">
                                <div class="slider-product" data-id="1" data-name="votre produit 1" data-price="3500">
                                    <img src="images/prod1.png" alt="JJIEDDIE JEAN" class="product-image">
                                    <h4>votre produit 1</h4>
                                    <p>3 500 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="S">S (Petit)</option>
                                            <option value="M">M (Moyen)</option>
                                            <option value="L">L (Large)</option>
                                            <option value="XL">XL (Très Large)</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 2 -->
                            <div class="slide">
                                <div class="slider-product" data-id="2" data-name="votre produit 2" data-price="12000">
                                    <img src="images/prod2.png" alt="Montre Connectée">
                                    <h4>votre produit 2</h4>
                                    <p>12 000 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="38mm">38mm (Petit poignet)</option>
                                            <option value="42mm">42mm (Moyen poignet)</option>
                                            <option value="46mm">46mm (Grand poignet)</option>
                                            <option value="Ajustable">Ajustable</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 3 -->
                            <div class="slide">
                                <div class="slider-product" data-id="3" data-name="votre produit 3" data-price="2000">
                                    <img src="images/prod3.png" alt="Enceinte Bluetooth">
                                    <h4>votre produit 3</h4>
                                    <p>2 000 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="Petite">Petite (Portable)</option>
                                            <option value="Moyenne">Moyenne (Maison)</option>
                                            <option value="Grande">Grande (Extérieur)</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 4 -->
                            <div class="slide">
                                <div class="slider-product" data-id="4" data-name="votre produit 4" data-price="9500">
                                    <img src="images/prod4.png" alt="Écouteurs Sans Fil">
                                    <h4>votre produit 4</h4>
                                    <p>9 500 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="Petite">Petite (Petites oreilles)</option>
                                            <option value="Moyenne">Moyenne (Oreilles standard)</option>
                                            <option value="Grande">Grande (Grandes oreilles)</option>
                                            <option value="Ajustable">Embouts ajustables</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 5 -->
                            <div class="slide">
                                <div class="slider-product" data-id="5" data-name="votre produit 5" data-price="1500">
                                    <img src="images/prod5.png" alt="Sac à Dos pour Ordinateur">
                                    <h4>votre produit 5</h4>
                                    <p>1 500 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="13-14">13-14 pouces</option>
                                            <option value="15-16">15-16 pouces</option>
                                            <option value="17+">17+ pouces</option>
                                            <option value="Universal">Universel</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 6 -->
                            <div class="slide">
                                <div class="slider-product" data-id="6" data-name="votre produit 6" data-price="8000">
                                    <img src="images/prod6.png" alt="Chaussures de Course">
                                    <h4>votre produit 6</h4>
                                    <p>8 000 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="38">38</option>
                                            <option value="39">39</option>
                                            <option value="40">40</option>
                                            <option value="41">41</option>
                                            <option value="42">42</option>
                                            <option value="43">43</option>
                                            <option value="44">44</option>
                                            <option value="45">45</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 7 -->
                            <div class="slide">
                                <div class="slider-product" data-id="7" data-name="votre produit 7" data-price="600">
                                    <img src="images/prod7.png" alt="JJIEDDIE JEAN" class="product-image">
                                    <h4>votre produit 7</h4>
                                    <p>600 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="S">S (Petit)</option>
                                            <option value="M">M (Moyen)</option>
                                            <option value="L">L (Large)</option>
                                            <option value="XL">XL (Très Large)</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 8 -->
                            <div class="slide">
                                <div class="slider-product" data-id="8" data-name="votre produit 8" data-price="1500">
                                    <img src="images/prod8.png" alt="Montre Connectée">
                                    <h4>votre produit 8</h4>
                                    <p>1 500 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="38mm">38mm (Petit poignet)</option>
                                            <option value="42mm">42mm (Moyen poignet)</option>
                                            <option value="46mm">46mm (Grand poignet)</option>
                                            <option value="Ajustable">Ajustable</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 9 -->
                            <div class="slide">
                                <div class="slider-product" data-id="9" data-name="votre produit 9" data-price="4000">
                                    <img src="images/prod9.png" alt="Enceinte Bluetooth">
                                    <h4>votre produit 9</h4>
                                    <p>4 000 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="Petite">Petite (Portable)</option>
                                            <option value="Moyenne">Moyenne (Maison)</option>
                                            <option value="Grande">Grande (Extérieur)</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>

                            <!-- Product 10 -->
                            <div class="slide">
                                <div class="slider-product" data-id="10" data-name="votre produit 10" data-price="2500">
                                    <img src="images/prod10.png" alt="JJIEDDIE JEAN" class="product-image">
                                    <h4>votre produit 10</h4>
                                    <p>2 500 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="S">S (Petit)</option>
                                            <option value="M">M (Moyen)</option>
                                            <option value="L">L (Large)</option>
                                            <option value="XL">XL (Très Large)</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 11 -->
                            <div class="slide">
                                <div class="slider-product" data-id="11" data-name="votre produit 11" data-price="1500">
                                    <img src="images/prod11.png" alt="Montre Connectée">
                                    <h4>votre produit 11</h4>
                                    <p>1 500 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="38mm">38mm (Petit poignet)</option>
                                            <option value="42mm">42mm (Moyen poignet)</option>
                                            <option value="46mm">46mm (Grand poignet)</option>
                                            <option value="Ajustable">Ajustable</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                            
                            <!-- Product 12 -->
                            <div class="slide">
                                <div class="slider-product" data-id="12" data-name="votre produit 12" data-price="2500">
                                    <img src="images/prod12.png" alt="Enceinte Bluetooth">
                                    <h4>votre produit 12</h4>
                                    <p>2 500 DA</p>
                                    <div class="quantity-selector">
                                        <button type="button" class="quantity-btn minus">-</button>
                                        <span class="quantity-display">0</span>
                                        <button type="button" class="quantity-btn plus">+</button>
                                    </div>
                                    <div class="size-selector">
                                        <select>
                                            <option value="">Choisir la taille</option>
                                            <option value="Petite">Petite (Portable)</option>
                                            <option value="Moyenne">Moyenne (Maison)</option>
                                            <option value="Grande">Grande (Extérieur)</option>
                                        </select>
                                    </div>
                                    <input type="hidden" value="0">
                                </div>
                            </div>
                        </div>
                        <button type="button" class="slider-arrow next">&#10095;</button>
                        
                        <div class="slider-nav">
                            <!-- CORRECTION : Maintenant 12 dots pour 12 produits -->
                            <div class="slider-dot active" data-slide="0"></div>
                            <div class="slider-dot" data-slide="1"></div>
                            <div class="slider-dot" data-slide="2"></div>
                            <div class="slider-dot" data-slide="3"></div>
                            <div class="slider-dot" data-slide="4"></div>
                            <div class="slider-dot" data-slide="5"></div>
                            <div class="slider-dot" data-slide="6"></div>
                            <div class="slider-dot" data-slide="7"></div>
                            <div class="slider-dot" data-slide="8"></div>
                            <div class="slider-dot" data-slide="9"></div>
                            <div class="slider-dot" data-slide="10"></div>
                            <div class="slider-dot" data-slide="11"></div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="customerAddress">Adresse de Livraison *</label>
                    <textarea id="customerAddress" name="address" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="orderNotes">Notes Supplémentaires</label>
                    <textarea id="orderNotes" name="notes" placeholder="Toute instruction spéciale pour votre commande..."></textarea>
                </div>
                
                <!-- Order Summary -->
                <div class="order-summary" id="orderSummary">
                    <h3 class="summary-title">Récapitulatif de la Commande</h3>
                    <div id="summaryItems">
                        <!-- Les articles seront ajoutés ici dynamiquement -->
                    </div>
                    <div class="summary-item">
                        <span>Frais de Livraison:</span>
                        <span id="deliveryFee" class="delivery-price">0 DA</span>
                    </div>
                    <div class="summary-total">
                        <span>Total:</span>
                        <span id="totalPrice">0 DA</span>
                    </div>
                </div>
                
                <button type="submit" class="btn">Soumettre la Commande</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Moonshop. Tous droits réservés.</p>
        </div>
    </footer>

    <script>
        // Liste des villes algériennes avec leurs prix de livraison
        const citiesData = [
            { name: "Adrar", homePrice: 1600, officePrice: 800 },
            { name: "Chlef", homePrice: 900, officePrice: 450 },
            { name: "Laghouat", homePrice: 1200, officePrice: 600 },
            { name: "Oum El Bouaghi", homePrice: 900, officePrice: 350 },
            { name: "Batna", homePrice: 850, officePrice: 400 },
            { name: "Béjaïa", homePrice: 850, officePrice: 350 },
            { name: "Biskra", homePrice: 850, officePrice: 350 },
            { name: "Béchar", homePrice: 1400, officePrice: 800 },
            { name: "Blida", homePrice: 800, officePrice: 350 },
            { name: "Bouira", homePrice: 850, officePrice: 400 },
            { name: "Tamanrasset", homePrice: 1600, officePrice: 1000 },
            { name: "Tébessa", homePrice: 800, officePrice: 600 },
            { name: "Tlemcen", homePrice: 900, officePrice: 350 },
            { name: "Tiaret", homePrice: 950, officePrice: 400 },
            { name: "Tizi Ouzou", homePrice: 750, officePrice: 350 },
            { name: "Alger", homePrice: 1200, officePrice: 600 },
            { name: "Djelfa", homePrice: 750, officePrice: 350 },
            { name: "Jijel", homePrice: 1200, officePrice: 600 },
            { name: "Sétif", homePrice: 850, officePrice: 400 },
            { name: "Saïda", homePrice: 1000, officePrice: 350 },
            { name: "Skikda", homePrice: 850, officePrice: 400 },
            { name: "Sidi Bel Abbès", homePrice: 900, officePrice: 400 },
            { name: "Annaba", homePrice: 850, officePrice: 350 },
            { name: "Guelma", homePrice: 850, officePrice: 400 },
            { name: "Constantine", homePrice: 850, officePrice: 400 },
            { name: "Médéa", homePrice: 850, officePrice: 400 },
            { name: "Mostaganem", homePrice: 900, officePrice: 400 },
            { name: "M'Sila", homePrice: 900, officePrice: 350 },
            { name: "Mascara", homePrice: 950, officePrice: 400 },
            { name: "Ouargla", homePrice: 1200, officePrice: 600 },
            { name: "Oran", homePrice: 900, officePrice: 350 },
            { name: "El Bayadh", homePrice: 1400, officePrice: 600 },
            { name: "Illizi", homePrice: 1800, officePrice: 1200 },
            { name: "Bordj Bou Arréridj", homePrice: 850, officePrice: 400 },
            { name: "Boumerdès", homePrice: 850, officePrice: 400 },
            { name: "El Tarf", homePrice: 850, officePrice: 400 },
            { name: "Tindouf", homePrice: 1600, officePrice: 1000 },
            { name: "Tissemsilt", homePrice: 950, officePrice: 400 },
            { name: "El Oued", homePrice: 1000, officePrice: 600 },
            { name: "Khenchela", homePrice: 800, officePrice: 350 },
            { name: "Souk Ahras", homePrice: 850, officePrice: 400 },
            { name: "Tipaza", homePrice: 850, officePrice: 350 },
            { name: "Mila", homePrice: 800, officePrice: 350 },
            { name: "Aïn Defla", homePrice: 900, officePrice: 400 },
            { name: "Naâma", homePrice: 1400, officePrice: 800 },
            { name: "Aïn Témouchent", homePrice: 950, officePrice: 400 },
            { name: "Ghardaïa", homePrice: 1200, officePrice: 600 },
            { name: "Relizane", homePrice: 950, officePrice: 400 }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // Lightbox functionality
            const lightboxModal = document.getElementById('lightboxModal');
            const lightboxSlider = document.getElementById('lightboxSlider');
            const lightboxNav = document.getElementById('lightboxNav');
            const lightboxClose = document.querySelector('.lightbox-close');
            const lightboxPrev = document.querySelector('.lightbox-prev');
            const lightboxNext = document.querySelector('.lightbox-next');
            let currentLightboxIndex = 0;
            let currentLightboxImages = [];

            // Function to open lightbox
            function openLightbox(productId, startIndex = 0) {
                // Get the product container
                const productContainer = document.querySelector(`[data-product="${productId}"]`);
                const images = productContainer.querySelectorAll('.product-image');
                
                // Clear previous content
                lightboxSlider.innerHTML = '';
                lightboxNav.innerHTML = '';
                currentLightboxImages = [];
                
                // Add images to lightbox
                images.forEach((img, index) => {
                    const lightboxImg = document.createElement('img');
                    lightboxImg.src = img.src;
                    lightboxImg.alt = img.alt;
                    lightboxImg.className = 'lightbox-image';
                    lightboxSlider.appendChild(lightboxImg);
                    currentLightboxImages.push(img.src);
                    
                    // Add dot to navigation
                    const dot = document.createElement('div');
                    dot.className = `lightbox-dot ${index === startIndex ? 'active' : ''}`;
                    dot.setAttribute('data-index', index);
                    dot.addEventListener('click', () => goToLightboxImage(index));
                    lightboxNav.appendChild(dot);
                });
                
                // Set initial position
                currentLightboxIndex = startIndex;
                updateLightboxPosition();
                
                // Show modal
                lightboxModal.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            }

            // Function to close lightbox
            function closeLightbox() {
                lightboxModal.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restore scrolling
            }

            // Function to go to specific image in lightbox
            function goToLightboxImage(index) {
                currentLightboxIndex = index;
                updateLightboxPosition();
            }

            // Function to update lightbox position and active dot
            function updateLightboxPosition() {
                lightboxSlider.style.transform = `translateX(-${currentLightboxIndex * 100}%)`;
                
                // Update active dot
                const dots = lightboxNav.querySelectorAll('.lightbox-dot');
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentLightboxIndex);
                });
            }

            // Event listeners for lightbox
            lightboxClose.addEventListener('click', closeLightbox);
            lightboxPrev.addEventListener('click', () => {
                currentLightboxIndex = (currentLightboxIndex - 1 + currentLightboxImages.length) % currentLightboxImages.length;
                updateLightboxPosition();
            });
            lightboxNext.addEventListener('click', () => {
                currentLightboxIndex = (currentLightboxIndex + 1) % currentLightboxImages.length;
                updateLightboxPosition();
            });

            // Close lightbox when clicking outside the image
            lightboxModal.addEventListener('click', (e) => {
                if (e.target === lightboxModal) {
                    closeLightbox();
                }
            });

            // Keyboard navigation for lightbox
            document.addEventListener('keydown', (e) => {
                if (lightboxModal.style.display === 'block') {
                    if (e.key === 'Escape') {
                        closeLightbox();
                    } else if (e.key === 'ArrowLeft') {
                        currentLightboxIndex = (currentLightboxIndex - 1 + currentLightboxImages.length) % currentLightboxImages.length;
                        updateLightboxPosition();
                    } else if (e.key === 'ArrowRight') {
                        currentLightboxIndex = (currentLightboxIndex + 1) % currentLightboxImages.length;
                        updateLightboxPosition();
                    }
                }
            });

            // Product image sliders for each product card
            const productCards = document.querySelectorAll('.product-card');
            productCards.forEach(card => {
                const slider = card.querySelector('.product-image-slider');
                const dots = card.querySelectorAll('.product-slider-dot');
                const imageContainer = card.querySelector('.product-image-container');
                let currentImage = 0;
                
                // Initialize dots
                function updateDots() {
                    dots.forEach((dot, index) => {
                        if (index === currentImage) {
                            dot.classList.add('active');
                        } else {
                            dot.classList.remove('active');
                        }
                    });
                }
                
                // Function to go to specific image
                function goToImage(index) {
                    currentImage = index;
                    slider.style.transform = `translateX(-${currentImage * 100}%)`;
                    updateDots();
                }
                
                // Add click events to dots
                dots.forEach(dot => {
                    dot.addEventListener('click', function() {
                        const imageIndex = parseInt(this.getAttribute('data-index'));
                        goToImage(imageIndex);
                    });
                });
                
                // Add click event to open lightbox
                imageContainer.addEventListener('click', function() {
                    const productId = this.getAttribute('data-product');
                    openLightbox(productId, currentImage);
                });
                
                // Auto-rotate images every 5 seconds
                let autoRotate = setInterval(() => {
                    currentImage = (currentImage + 1) % dots.length;
                    goToImage(currentImage);
                }, 5000);
                
                // Pause auto-rotate on hover
                imageContainer.addEventListener('mouseenter', () => {
                    clearInterval(autoRotate);
                });
                
                imageContainer.addEventListener('mouseleave', () => {
                    autoRotate = setInterval(() => {
                        currentImage = (currentImage + 1) % dots.length;
                        goToImage(currentImage);
                    }, 5000);
                });
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');
            
            // Function to show a specific page
            function showPage(pageId) {
                // Hide all pages
                pages.forEach(page => {
                    page.classList.remove('active');
                });
                
                // Show target page
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.add('active');
                }
                
                // Update URL without refreshing the page
                window.history.pushState({}, '', '#' + pageId);
                
                // Scroll to top
                window.scrollTo(0, 0);
            }
            
            // Handle navigation clicks
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    // For external links (like contact.html), let the browser handle normally
                    if (this.getAttribute('href').includes('.html')) {
                        return;
                    }
                    
                    e.preventDefault();
                    const targetPage = this.getAttribute('href').replace('#', '');
                    showPage(targetPage);
                });
            });
            
            // Handle browser back/forward buttons
            window.addEventListener('popstate', function() {
                const pageId = window.location.hash.replace('#', '') || 'home';
                showPage(pageId);
            });
            
            // Show the correct page based on URL on initial load
            const initialPage = window.location.hash.replace('#', '') || 'home';
            showPage(initialPage);
            
            // Populate city dropdown
            const citySelect = document.getElementById('customerCity');
            citiesData.forEach(city => {
                // Add home delivery option
                const homeOption = document.createElement('option');
                homeOption.value = `${city.name}_home`;
                homeOption.textContent = `${city.name} - Domicile (${city.homePrice} DA)`;
                citySelect.appendChild(homeOption);
                
                // Add office delivery option
                const officeOption = document.createElement('option');
                officeOption.value = `${city.name}_office`;
                officeOption.textContent = `${city.name} - Bureau (${city.officePrice} DA)`;
                citySelect.appendChild(officeOption);
            });
            
            // Product slider functionality
            const sliderContainer = document.getElementById('sliderContainer');
            const sliderDots = document.querySelectorAll('.slider-dot');
            const prevButton = document.querySelector('.slider-arrow.prev');
            const nextButton = document.querySelector('.slider-arrow.next');
            const productSlider = document.getElementById('productSlider');
            let currentSlide = 0;
            const slideCount = 12; // CORRECTION : Maintenant 12 slides (1 par produit)
            let startX = 0;
            let isDragging = false;
            let startTime = 0;
            
            // CORRECTION : Empêcher le rechargement de la page
            prevButton.setAttribute('type', 'button');
            nextButton.setAttribute('type', 'button');
            
            // Initialize slider dots
            function updateSliderDots() {
                sliderDots.forEach((dot, index) => {
                    if (index === currentSlide) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                });
            }
            
            // Slide to specific index
            function goToSlide(index) {
                if (index < 0) index = 0;
                if (index >= slideCount) index = slideCount - 1;
                
                currentSlide = index;
                sliderContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
                updateSliderDots();
            }
            
            // Add click events to slider dots
            sliderDots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const slideIndex = parseInt(this.getAttribute('data-slide'));
                    goToSlide(slideIndex);
                });
            });
            
            // Arrow navigation
            prevButton.addEventListener('click', function(e) {
                e.preventDefault(); // Empêcher le comportement par défaut
                goToSlide(currentSlide - 1);
            });
            
            nextButton.addEventListener('click', function(e) {
                e.preventDefault(); // Empêcher le comportement par défaut
                goToSlide(currentSlide + 1);
            });
            
            // Enhanced touch swipe functionality
            productSlider.addEventListener('touchstart', function(e) {
                startX = e.touches[0].clientX;
                startTime = new Date().getTime();
                isDragging = true;
                sliderContainer.style.transition = 'none'; // Remove transition during drag for smooth follow
            });
            
            productSlider.addEventListener('touchmove', function(e) {
                if (!isDragging) return;
                
                const currentX = e.touches[0].clientX;
                const diffX = startX - currentX;
                
                // Move the slider container with finger
                sliderContainer.style.transform = `translateX(calc(-${currentSlide * 100}% - ${diffX}px))`;
            });
            
            productSlider.addEventListener('touchend', function(e) {
                if (!isDragging) return;
                
                const endX = e.changedTouches[0].clientX;
                const endTime = new Date().getTime();
                const diffX = startX - endX;
                const timeDiff = endTime - startTime;
                
                // Restore transition
                sliderContainer.style.transition = 'transform 0.5s ease';
                
                // Calculate swipe velocity
                const velocity = Math.abs(diffX) / timeDiff;
                
                // Minimum swipe distance to trigger slide change
                const minSwipeDistance = 50;
                const fastSwipeThreshold = 0.3; // pixels per millisecond
                
                if (Math.abs(diffX) > minSwipeDistance || velocity > fastSwipeThreshold) {
                    if (diffX > 0) {
                        // Swipe left - next slide
                        goToSlide(currentSlide + 1);
                    } else {
                        // Swipe right - previous slide
                        goToSlide(currentSlide - 1);
                    }
                } else {
                    // Not enough swipe, return to current slide
                    goToSlide(currentSlide);
                }
                
                isDragging = false;
            });
            
            // Mouse drag support for desktop (optional)
            let mouseIsDown = false;
            let mouseStartX = 0;
            
            productSlider.addEventListener('mousedown', function(e) {
                mouseIsDown = true;
                mouseStartX = e.clientX;
                sliderContainer.style.transition = 'none';
            });
            
            document.addEventListener('mousemove', function(e) {
                if (!mouseIsDown) return;
                
                const currentX = e.clientX;
                const diffX = mouseStartX - currentX;
                
                sliderContainer.style.transform = `translateX(calc(-${currentSlide * 100}% - ${diffX}px))`;
            });
            
            document.addEventListener('mouseup', function(e) {
                if (!mouseIsDown) return;
                
                const endX = e.clientX;
                const diffX = mouseStartX - endX;
                
                // Restore transition
                sliderContainer.style.transition = 'transform 0.5s ease';
                
                // Minimum drag distance to trigger slide change
                if (Math.abs(diffX) > 50) {
                    if (diffX > 0) {
                        // Drag left - next slide
                        goToSlide(currentSlide + 1);
                    } else {
                        // Drag right - previous slide
                        goToSlide(currentSlide - 1);
                    }
                } else {
                    // Not enough drag, return to current slide
                    goToSlide(currentSlide);
                }
                
                mouseIsDown = false;
            });
            
            // Quantity selector functionality
            const quantityButtons = document.querySelectorAll('.quantity-btn');
            quantityButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const productCard = this.closest('.slider-product');
                    const quantityDisplay = productCard.querySelector('.quantity-display');
                    const hiddenInput = productCard.querySelector('input[type="hidden"]');
                    let quantity = parseInt(quantityDisplay.textContent);
                    
                    if (this.classList.contains('plus')) {
                        quantity++;
                    } else if (this.classList.contains('minus') && quantity > 0) {
                        quantity--;
                    }
                    
                    quantityDisplay.textContent = quantity;
                    hiddenInput.value = quantity;
                    
                    // Update product selection styling
                    if (quantity > 0) {
                        productCard.classList.add('selected');
                    } else {
                        productCard.classList.remove('selected');
                    }
                    
                    // Update order summary
                    updateOrderSummary();
                    
                    // CORRECTION : Mettre à jour le style de la sélection de taille
                    const sizeSelect = productCard.querySelector('select');
                    if (quantity > 0 && sizeSelect.value) {
                        sizeSelect.style.borderColor = '';
                    }
                });
            });
            
            // CORRECTION : Ajouter un écouteur d'événement pour les changements de taille
            const sizeSelects = document.querySelectorAll('.size-selector select');
            sizeSelects.forEach(select => {
                select.addEventListener('change', function() {
                    // Mettre à jour le récapitulatif quand la taille change
                    updateOrderSummary();
                    
                    // Mettre à jour le style si nécessaire
                    const productCard = this.closest('.slider-product');
                    const quantity = parseInt(productCard.querySelector('.quantity-display').textContent);
                    
                    if (quantity > 0 && this.value) {
                        this.style.borderColor = '';
                    }
                });
            });
            
            // City selection change handler
            citySelect.addEventListener('change', function() {
                updateOrderSummary();
            });
            
            // Form submission - NOUVELLE MÉTHODE AVEC FETCH
            const orderForm = document.getElementById('orderForm');
            const successMessage = document.getElementById('successMessage');
            
            orderForm.addEventListener('submit', function(e) {
                e.preventDefault(); // Empêcher la soumission normale
                
                // Check if at least one product is selected
                const selectedProducts = document.querySelectorAll('.slider-product.selected');
                if (selectedProducts.length === 0) {
                    alert('Veuillez sélectionner au moins un produit.');
                    return;
                }
                
                // Check if city is selected
                if (!citySelect.value) {
                    alert('Veuillez sélectionner votre ville et type de livraison.');
                    return;
                }
                
                // Check if sizes are selected for all products with quantity > 0
                let sizeError = false;
                selectedProducts.forEach(product => {
                    const quantity = parseInt(product.querySelector('.quantity-display').textContent);
                    const sizeSelect = product.querySelector('select');
                    
                    if (quantity > 0 && (!sizeSelect.value || sizeSelect.value === "")) {
                        sizeError = true;
                        sizeSelect.style.borderColor = 'red';
                    } else {
                        sizeSelect.style.borderColor = '';
                    }
                });
                
                if (sizeError) {
                    alert('Veuillez sélectionner une taille pour tous les produits commandés.');
                    return;
                }
                
                // Préparer les données pour l'envoi
                const formData = new FormData(orderForm);
                formData.append('_captcha', 'false'); // Désactiver captcha
                
                // Envoyer avec fetch pour éviter la redirection FormSubmit
                fetch('https://formsubmit.co/ajax/anakinstark777@gmail.com', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    // Afficher le message de succès
                    successMessage.style.display = 'block';
                    orderForm.reset();
                    
                    // Reset product selection styling and quantities
                    const quantityDisplays = document.querySelectorAll('.quantity-display');
                    quantityDisplays.forEach(display => {
                        display.textContent = '0';
                    });
                    
                    const hiddenInputs = document.querySelectorAll('input[type="hidden"]');
                    hiddenInputs.forEach(input => {
                        input.value = '0';
                    });
                    
                    const sizeSelects = document.querySelectorAll('.size-selector select');
                    sizeSelects.forEach(select => {
                        select.value = '';
                        select.style.borderColor = '';
                    });
                    
                    const productCards = document.querySelectorAll('.slider-product');
                    productCards.forEach(card => {
                        card.classList.remove('selected');
                    });
                    
                    // Reset slider to first slide
                    goToSlide(0);
                    
                    // Reset order summary
                    updateOrderSummary();
                    
                    // Scroll to success message
                    successMessage.scrollIntoView({ behavior: 'smooth' });
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Une erreur est survenue. Veuillez réessayer.');
                });
            });
            
            // Function to update order summary
            function updateOrderSummary() {
                const summaryItems = document.getElementById('summaryItems');
                const deliveryFeeElement = document.getElementById('deliveryFee');
                const totalPriceElement = document.getElementById('totalPrice');
                const formTotal = document.getElementById('formTotal');
                const formOrderSummary = document.getElementById('formOrderSummary');
                
                // Get selected products
                const selectedProducts = document.querySelectorAll('.slider-product');
                
                // Calculate products total
                let productsTotal = 0;
                let summaryText = "RÉCAPITULATIF DE LA COMMANDE:\n\n";
                summaryItems.innerHTML = '';
                
                selectedProducts.forEach(product => {
                    const quantity = parseInt(product.querySelector('.quantity-display').textContent);
                    if (quantity > 0) {
                        const price = parseFloat(product.getAttribute('data-price'));
                        const name = product.getAttribute('data-name');
                        const sizeSelect = product.querySelector('select');
                        const size = sizeSelect.value || 'Taille non spécifiée';
                        const productTotal = price * quantity;
                        productsTotal += productTotal;
                        
                        // Format price with spaces for thousands
                        const formattedPrice = new Intl.NumberFormat('fr-DZ').format(price);
                        const formattedProductTotal = new Intl.NumberFormat('fr-DZ').format(productTotal);
                        
                        // Add product to visual summary
                        const summaryItem = document.createElement('div');
                        summaryItem.className = 'summary-item';
                        summaryItem.innerHTML = `<span>${name} (${size}) x${quantity}:</span> <span>${formattedProductTotal} DA</span>`;
                        summaryItems.appendChild(summaryItem);
                        
                        // Add product to text summary for email
                        summaryText += `${name} (${size}) x${quantity}: ${formattedProductTotal} DA\n`;
                    }
                });
                
                // Calculate delivery fee based on city
                let deliveryFee = 0;
                const selectedCity = citySelect.value;
                let deliveryTypeText = "";
                
                if (selectedCity) {
                    const [cityName, deliveryType] = selectedCity.split('_');
                    const city = citiesData.find(c => c.name === cityName);
                    
                    if (city) {
                        deliveryFee = deliveryType === 'home' ? city.homePrice : city.officePrice;
                        deliveryTypeText = deliveryType === 'home' ? 'Domicile' : 'Bureau';
                    }
                }
                
                // Format delivery fee
                const formattedDeliveryFee = new Intl.NumberFormat('fr-DZ').format(deliveryFee);
                
                // Update delivery fee display
                deliveryFeeElement.textContent = `${formattedDeliveryFee} DA`;
                
                // Calculate and update total
                const total = productsTotal + deliveryFee;
                const formattedTotal = new Intl.NumberFormat('fr-DZ').format(total);
                totalPriceElement.textContent = `${formattedTotal} DA`;
                
                // Update hidden form fields
                formTotal.value = total;
                
                // Build complete order summary for email
                summaryText += `\nFrais de Livraison (${deliveryTypeText}): ${formattedDeliveryFee} DA\n`;
                summaryText += "─".repeat(30) + "\n";
                summaryText += `TOTAL: ${formattedTotal} DA`;
                
                formOrderSummary.value = summaryText;
            }
            
            // Initialize order summary
            updateOrderSummary();
        });
    </script>
</body>
</html>








